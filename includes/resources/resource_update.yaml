# Resource update resource.
#
# @package   Apiopenstudio
# @license   This Source Code Form is subject to the terms of the ApiOpenStudio Public License.
#            If a copy of the license was not distributed with this file,
#            You can obtain one at https://www.apiopenstudio.com/license/.
# @author    john89 (https://gitlab.com/john89)
# @copyright 2020-2030 Naala Pty Ltd
# @link      https://www.apiopenstudio.com

name: Resource update

description: Update a resource.

uri: resource

method: put

appid: 1

ttl: 0

security:
  id: resource_update_security
  processor: validate_token_roles
  roles:
    - Developer
  validate_account: false
  validate_application: false

process:
  id: resource_update_process
  processor: resource_update
  resid:
    processor: field_value
    id: resource_update_resid
    key_value: value
    field:
      processor: var_field
      id: resource_update_field_resid
      array:
        processor: filter
        id: resource_update_filter_resid
        filter: resid
        inverse: true
        source:
          processor: cast
          id: resource_update_cast_resid_to_array
          data:
            processor: var_body
            id: resource_update_body_resid
            nullable: false
          data_type: array
  name:
    processor: field_value
    id: resource_update_name
    key_value: value
    field:
      processor: var_field
      id: resource_update_field_name
      array:
        processor: filter
        id: resource_update_filter_name
        filter: name
        inverse: true
        source:
          processor: cast
          id: resource_update_cast_filter_name_to_array
          data:
            processor: var_body
            id: resource_update_body_name
            nullable: false
          data_type: array
  description:
    processor: field_value
    id: resource_update_description
    key_value: value
    field:
      processor: var_field
      id: resource_update_field_description
      array:
        processor: filter
        id: resource_update_filter_description
        filter: description
        inverse: true
        source:
          processor: cast
          id: resource_update_cast_description_to_array
          data:
            processor: var_body
            id: resource_update_body_description
            nullable: false
          data_type: array
  appid:
    processor: field_value
    id: resource_update_appid
    key_value: value
    field:
      processor: var_field
      id: resource_update_field_appid
      array:
        processor: filter
        id: resource_update_filter_appid
        filter: appid
        inverse: true
        source:
          processor: cast
          id: resource_update_cast_appid_to_array
          data:
            processor: var_body
            id: resource_update_body_appid
            nullable: false
          data_type: array
  method:
    processor: field_value
    id: resource_update_method
    key_value: value
    field:
      processor: var_field
      id: resource_update_field_method
      array:
        processor: filter
        id: resource_update_filter_method
        filter: method
        inverse: true
        source:
          processor: cast
          id: resource_update_cast_method_to_array
          data:
            processor: var_body
            id: resource_update_body_method
            nullable: false
          data_type: array
  uri:
    processor: field_value
    id: resource_update_uri
    key_value: value
    field:
      processor: var_field
      id: resource_update_field_uri
      array:
        processor: filter
        id: resource_update_filter_uri
        filter: uri
        inverse: true
        source:
          processor: cast
          id: resource_update_cast_uri_to_array
          data:
            processor: var_body
            id: resource_update_body_uri
            nullable: false
          data_type: array
  ttl:
    processor: field_value
    id: resource_update_ttl
    key_value: value
    field:
      processor: var_field
      id: resource_update_field_ttl
      array:
        processor: filter
        id: resource_update_filter_ttl
        filter: ttl
        inverse: true
        source:
          processor: cast
          id: resource_update_cast_ttl_to_array
          data:
            processor: var_body
            id: resource_update_body_ttl
            nullable: false
          data_type: array
  format:
    processor: field_value
    id: resource_update_format
    key_value: value
    field:
      processor: var_field
      id: resource_update_field_format
      array:
        processor: filter
        id: resource_update_filter_format
        filter: format
        inverse: true
        source:
          processor: cast
          id: resource_update_cast_format_to_array
          data:
            processor: var_body
            id: resource_update_body_format
            nullable: false
          data_type: array
  meta:
    processor: field_value
    id: resource_update_meta
    key_value: value
    field:
      processor: var_field
      id: resource_update_field_meta
      array:
        processor: filter
        id: resource_update_filter_meta
        filter: meta
        inverse: true
        source:
          processor: cast
          id: resource_update_cast_meta_to_array
          data:
            processor: var_body
            id: resource_update_body_meta
            nullable: false
          data_type: array
